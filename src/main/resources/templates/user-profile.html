<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>User Profile - Safety Car</title>
    <link th:href="@{/assets/img/favicon.ico}" rel="shortcut icon" href="static/asset/favicon.png" />
    <link th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css}" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link th:href="@{https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800}" href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css}" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css" rel="stylesheet" type="text/css">
    <link th:href="@{/css/style.css}" href="/static/css/style.css" rel="stylesheet" type="text/css">
    <link th:href="@{/css/easy-responsive-tabs.css}" rel="stylesheet" type="text/css" href="/static/css/easy-responsive-tabs.css" />
    <link th:href="@{/css/flexslider.css}" rel="stylesheet" type="text/css" href="/static/css/flexslider.css" />
    <link th:href="@{/css/owl.carousel.css}" rel="stylesheet" type="text/css" href="/static/css/owl.carousel.css">
    <link th:href="@{/css/icons.css}" rel="stylesheet" type="text/css" href="/static/css/icons.css">
    <!--[if lt IE 8]><!-->
    <link th:href="@{/css/ie7/ie7.css}" rel="stylesheet" href="/static/css/ie7/ie7.css">
    <!--<![endif]-->
    <link th:href="@{/css/styles.css}" href="/static/css/styles.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
    <script th:href="@{https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js}" src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script th:href="@{https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js}" src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body data-spy="scroll" data-target=".navbar-fixed-top">

    <div th:insert="fragments/general.html :: top-menu"></div>

    <div class="clear"></div>


        <!--First Section after Menu-->
        <div class="container-fluid">
            <div class="row" id="heading-row">
                <div class="col-3"></div>
                <div class="col-6">
                    <h2>User Profile:</h2>
                    <hr>
                    <h4><i>Please review your details!</i></h4>
                    <p>* If you need you can go to <strong>Edit your profile</strong> button and add/correct the information.</p>
                    <p><i>Feel free to Contact us if you have any questions or troubles with the website!</i></p>
                </div>
                <div class="col-3"></div>
            </div>
        </div>

    <hr>

    <!--Show Policy Container -->
    <div class="container" style="align-content: center">

        <div class="row col-sm-8" style="align-content: center">
            <table th:object="${user}" class="table"  id="policy-create-table" style="align-content: space-evenly">
                <thead>
                <tr>
                    <th scope="col">Information:</th>
                    <th scope="col">Value: </th>

                </tr>
                </thead>
                <tbody>
                <tr>
                    <td >Full Name: </td>
                    <td th:text="${user.getFullName()}" > </td>

                </tr>
                <tr>
                    <td >Telephone: </td>
                    <td th:text="${userDetails.getTelephone()}" > </td>

                </tr>
                <tr>
                    <td >Address: </td>
                    <td th:text="${userDetails.getAddress()}" > </td>

                </tr>

                <tr>
                    <td>Simulated Offers in your account: </td>
                    <td th:text="${user.getSimulatedOffers() + ' offer(s)'}"></td>

                </tr>
                <tr>
                    <td>Approved policies net value: </td>
                    <td th:text="'$'  +  ${user.getApprovedNCount()}"> </td>

                </tr>
                <tr>
                    <td>Number of your Approved policies: </td>
                    <td th:text="${user.getApprovedNCount() + ' policies'}"> </td>
                </tr>

                <tr>
                    <td>Number of policies pending for approval: </td>
                    <td th:text="${user.getPendingCount() + ' policies'}" > </td>

                </tr>

                <tr>
                    <td>Net value of all pending policies: </td>
                    <td th:text="'$' + ${user.getPendingNet()}"> </td>

                </tr>
                </tbody>
           </table>
        </div>

        <div class="row col-sm-4" id="upload-file-row" sec:authorize="hasRole('ROLE_USER')" style="align-items: center">

            <h3>User Menu :</h3>

            <a class="btn btn-success" th:href="@{/users/profile/edit}" role="button">Edit your profile</a>
            <hr>
            <a class="btn btn-success" th:href="@{/my/offers}" role="button">View your offers</a>
            <hr>
            <a class="btn btn-success" th:href="@{/policies/user}" role="button">View your policies</a>
            <hr>
            <!-- TODO fix button link -->
            <a class="btn btn-default" th:href="@{/dedicated/simulation}" role="button">Calculate new Offer</a>

        </div>

    </div>


    <hr>

    <div th:insert="fragments/general.html :: services"></div>

    <div th:insert="fragments/general.html :: testimonials"></div>

    <div th:insert="fragments/general.html :: recent-news"></div>

    <div th:insert="fragments/general.html :: partners"></div>
    </div>
    <div class="clear"></div>
    <div th:insert="fragments/general.html :: footer"></div>
    <script th:href="@{https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js}" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js}" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script th:href="@{https://cdnjs.cloudflare.com/ajax/libs/bootstrap-hover-dropdown/2.2.1/bootstrap-hover-dropdown.min.js}" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-hover-dropdown/2.2.1/bootstrap-hover-dropdown.min.js"></script>
    <script th:href="@{https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js}" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script th:href="@{http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js}" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>
    <script type="text/javascript" th:src="@{/js/jquery.flexslider-min.js}"></script>
    <script type="text/javascript" th:src="@{/js/easyResponsiveTabs.js}"></script>
    <script type="text/javascript" th:src="@{/js/owl.carousel.js}"></script>
    <script type="text/javascript" th:src="@{/js/custom.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.bundle.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>

</body>

</html>
